(this["webpackJsonpform-generator"]=this["webpackJsonpform-generator"]||[]).push([[0],{44:function(e,a,t){e.exports=t(72)},53:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var r={};t.r(r),t.d(r,"getFormData",(function(){return R})),t.d(r,"setFormValue",(function(){return S})),t.d(r,"resetFormValue",(function(){return C})),t.d(r,"setErrorMessage",(function(){return k})),t.d(r,"resetErrorMessage",(function(){return T})),t.d(r,"resetForm",(function(){return A})),t.d(r,"setError",(function(){return D}));var n=t(0),s=t.n(n),o=t(14),l=t.n(o),c=t(23),i=t(10),m=(t(53),t(8)),u=t(43),f=t(16),p=t(17),E=t(19),d=t(18),_=t(20),g=t(7),b=t(25),h=t.n(b),v=function(e){var a=e.name,t=e.type,r=e.onChange,n=e.onBlur,o=e.value,l=e.inputClassNames,c=e.labelClassNames,i=e.errorMessage;return s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"form__section"},s.a.createElement("input",{className:l,onChange:r,value:o,name:a,onBlur:n,type:t,autoComplete:"off"}),s.a.createElement("label",{className:c,htmlFor:a},s.a.createElement("span",{className:"form__label--content"},a))),s.a.createElement("span",{className:"form__field--error"},i))};v.defaultProps={inputClassNames:"",labelClassNames:"",errorMessage:""};var F=v,O=function(e){var a=e.name,t=e.onChange,r=e.onBlur,n=e.options,o=e.fieldValue,l=e.selectedValue,c=e.selectClassNames,i=e.labelClassNames,m=e.errorMessage,u="positions"===a&&!o;return s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"form__section form__section--select"},s.a.createElement("select",{className:c,onChange:t,onBlur:r,value:l,name:a},s.a.createElement("option",{hidden:!0,value:""}),u&&s.a.createElement("option",{className:"form__field--option",disabled:!0,value:""},"fill the empty field above"),function(e){return e.map((function(e){var t=e.field,r=e.options;return"field"===a?s.a.createElement("option",{className:"form__field--option",key:t,value:t},t):"positions"===a?r.map((function(e){var a=e.position;return o===t?s.a.createElement("option",{className:"form__field--option",key:a,value:a},a):null})):null}))}(n)),s.a.createElement("label",{className:i,htmlFor:a},s.a.createElement("span",{className:"form__label--content"},a))),s.a.createElement("span",{className:"form__field--error"},m))};O.defaultProps={options:[],selectClassNames:"",labelClassNames:"",errorMessage:""};var N=O,M=function(e){var a=e.onSubmit,t=e.formFieldsData,r=e.errorMessages,n=e.formValues,o=e.formValues.field,l=e.onChange,c=e.onBlur,i=e.clearFormValues,m=function(e,a,t){return h()("form__field",{"form__field--select":"select"===e,"form__field--error":t,"form__field--filled":a})},u=function(e){return h()("form__label",{"form__label--error":e})};return s.a.createElement("form",{onSubmit:a},t.map((function(e){var a=e.name,t=e.type,i=e.options;return"text"===t?s.a.createElement(F,{key:a,inputClassNames:m(t,n[a],r[a]),labelClassNames:u(r[a]),name:a,onChange:l,onBlur:c,value:n[a],errorMessage:r[a],type:t}):"select"===t?s.a.createElement(N,{key:a,selectClassNames:m(t,n[a],r[a]),labelClassNames:u(r[a]),name:a,onBlur:c,errorMessage:r[a],onChange:l,options:i,selectedValue:n[a],fieldValue:o}):null})),s.a.createElement("section",{className:"form__buttons"},s.a.createElement("button",{type:"submit",className:"button button--primary"},"submit"),s.a.createElement("button",{onClick:i,type:"button",className:"button button--default"},"clear values")))};M.defaultProps={formFieldsData:[]};var y=M,V=function(){return s.a.createElement("section",{className:"spinner__container"},s.a.createElement("div",{className:"lds-dual-ring"}))},j=t(12),R=function(){return{type:"GET_FORM_DATA",payload:{request:{method:"get",url:"https://www.mocky.io/v2/5e584c113000005546fd41c0?mocky-delay=300ms"}}}},S=function(e,a){return{type:"SET_FORM_VALUE",data:Object(j.a)({},e,a)}},C=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:"RESET_FORM_VALUE",data:Object(j.a)({},e,a)}},k=function(e){return{type:"SET_ERROR_MESSAGE",data:{errorMessage:e}}},T=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:"RESET_ERROR_MESSAGE",data:Object(j.a)({},e,a)}},A=function(){return{type:"RESET_FORM"}},D=function(){return{type:"SET_ERROR"}},L=function(e){function a(){var e,t;Object(f.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=Object(E.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(n)))).emailValidate=function(e){return/\S+@\S+\.\S+/.test(String(e).toLowerCase())},t.formFieldValidate=function(e,a){var r="";return a?"email"===e&&(t.emailValidate(a)||(r="enter valid email")):r="".concat(e," is required"),r},t.onFormFieldChange=function(e){var a=e.target,r=a.name,n=a.value;t.props.actions.setFormValue(r,n.trim()),t.resetErrorMessage(r),"field"===r&&t.resetFormFieldValue("positions")},t.onFormFieldBlur=function(e){var a=e.target,r=a.name,n=a.value,s=t.props.actions,o={};o[r]=t.formFieldValidate(r,n),s.setErrorMessage(o)},t.onSubmit=function(e){e.preventDefault();var a=t.props,r=a.actions,n=a.formValues,s=a.history,o={};Object.entries(n).forEach((function(e){var a=Object(u.a)(e,2),r=a[0],n=a[1];o[r]=t.formFieldValidate(r,n)})),r.setErrorMessage(o),t.formIsValid(o)&&(s.push("success"),console.log("FORM VALUES:",n))},t.resetErrorMessage=function(e){var a=t.props,r=a.actions;a.errorMessages[e]&&r.resetErrorMessage(e)},t.resetFormFieldValue=function(e){t.props.actions.resetFormValue(e)},t.formIsValid=function(e){return Object.keys(e).every((function(a){return!e[a]}))},t.resetForm=function(){t.props.actions.resetForm()},t}return Object(_.a)(a,e),Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.actions;e.resetForm(),e.getFormData()}},{key:"render",value:function(){var e=this.props,a=e.formFieldsData,t=e.formValues,r=e.errorMessages;return e.isLoading?s.a.createElement(V,null):s.a.createElement("section",{className:"section__container"},s.a.createElement("h2",{className:"section__title"},"react form"),s.a.createElement(y,{onSubmit:this.onSubmit,onBlur:this.onFormFieldBlur,onChange:this.onFormFieldChange,clearFormValues:this.resetForm,formFieldsData:a,formValues:t,errorMessages:r}))}}]),a}(n.Component);L.defaultProps={formFieldsData:[]};var B=Object(g.c)(m.f,Object(i.b)((function(e){return{formFieldsData:e.formFieldsData,isLoading:e.isLoading,formValues:e.formValues,errorMessages:e.errorMessages}}),(function(e){return{actions:Object(g.b)(r,e)}})))(L),w=function(e){var a=e.name,t=e.nickname,r=e.email,n=e.field,o=e.positions;return s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"section__paragraph"},"name: ",s.a.createElement("span",{className:"section__paragraph--span"},a)),s.a.createElement("p",{className:"section__paragraph"},"nickname: ",s.a.createElement("span",{className:"section__paragraph--span"},t)),s.a.createElement("p",{className:"section__paragraph"},"email: ",s.a.createElement("span",{className:"section__paragraph--span"},r)),s.a.createElement("p",{className:"section__paragraph"},"field: ",s.a.createElement("span",{className:"section__paragraph--span"},n)),s.a.createElement("p",{className:"section__paragraph"},"positions: ",s.a.createElement("span",{className:"section__paragraph--span"},o)))},G=Object(i.b)((function(e){return{formValues:e.formValues}}))((function(e){var a=e.formValues,t=a.name,r=a.nickname,n=a.email,o=a.field,l=a.positions;return s.a.createElement("section",{className:"section__container section__container--preview"},s.a.createElement("h2",{className:"section__title"},"current form values"),s.a.createElement(w,{name:t,nickname:r,email:n,field:o,positions:l}))})),U=function(){return s.a.createElement("section",{className:"error"},s.a.createElement("h1",{className:"error__title"},"Something went wrong, Honey"))},I=function(e){function a(){return Object(f.a)(this,a),Object(E.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(p.a)(a,[{key:"componentDidCatch",value:function(){this.props.actions.setError()}},{key:"render",value:function(){var e=this.props,a=e.isError,t=e.children;return a?s.a.createElement(U,null):t}}]),a}(n.Component),P=Object(i.b)((function(e){return{isError:e.isError}}),(function(e){return{actions:Object(g.b)(r,e)}}))(I),x=function(){return s.a.createElement(P,null,s.a.createElement(B,null),s.a.createElement(G,null))},q=function(){return s.a.createElement("section",{className:"section__container"},s.a.createElement("h2",{className:"section__title section__title--success"},"success!"),s.a.createElement("p",{className:"section__paragraph section__paragraph--success"},"Your data has been logged in the console. :)"))},J=function(){return s.a.createElement(m.c,null,s.a.createElement(m.a,{exact:!0,path:"/",component:x}),s.a.createElement(m.a,{path:"/success",component:q}))},H=t(42),Y=t(39),z=t.n(Y),K=(t(40),t(41)),Q=t.n(K),W=t(3),X={formFieldsData:[],isLoading:!1,isError:!1,formValues:{name:"",nickname:"",email:"",field:"",positions:""},errorMessages:{name:"",nickname:"",email:"",field:"",positions:""}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_FORM_DATA":return Object(W.a)({},e,{isLoading:!0});case"GET_FORM_DATA_SUCCESS":return Object(W.a)({},e,{formFieldsData:a.payload.data,isLoading:!1});case"GET_FORM_DATA_FAIL":return Object(W.a)({},e,{isLoading:!1,isError:!0});case"SET_FORM_VALUE":case"RESET_FORM_VALUE":return Object(W.a)({},e,{formValues:Object(W.a)({},e.formValues,{},a.data)});case"SET_ERROR_MESSAGE":return Object(W.a)({},e,{errorMessages:Object(W.a)({},e.errorMessages,{},a.data.errorMessage)});case"RESET_ERROR_MESSAGE":return Object(W.a)({},e,{errorMessages:Object(W.a)({},e.errorMessages,{},a.data)});case"RESET_FORM":return Object(W.a)({},e,{formValues:{name:"",nickname:"",email:"",field:"",positions:""},errorMessages:{name:"",nickname:"",email:"",field:"",positions:""}});case"SET_ERROR":return Object(W.a)({},e,{isError:!0});default:return e}},$=[0,z()(Q.a)].filter(Boolean),ee=Object(g.d)(Z,Object(g.c)(g.a.apply(void 0,Object(H.a)($)))),ae=s.a.createElement(i.a,{store:ee},s.a.createElement(c.a,{basename:"/"},s.a.createElement(J,null)));l.a.render(ae,document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.c3e86357.chunk.js.map